/* --- VARS & RESET --- */
:root {
    --brand: #2aa6a8;
    --brand-2: #1f7f82;
    --brand-dark: var(--brand-2);
    --bg: #f3f7fb;
    --card: rgba(255, 255, 255, 0.98);
    --muted: #6b7680;
    --danger: #ef6b6b;
    --ok: #2da87b;
    --radius: 12px;
    --shadow: 0 12px 40px rgba(10, 20, 25, 0.08);
    --text-dark: #0b2b33;
    --sidebar-width: 250px;
}

* { box-sizing: border-box; }
html, body { height: 100%; }
body {
    margin: 0;
    font-family: Inter, system-ui, Arial, "Segoe UI", Roboto, sans-serif;
    background: url("fundo.jpg") no-repeat center center fixed;
    background-size: cover;
    color: var(--text-dark);
    display: flex; /* LAYOUT PRINCIPAL COM FLEXBOX */
    transition: padding-left 0.3s ease;
}

/* --- SIDEBAR --- */
.sidebar {
    width: var(--sidebar-width);
    background: #d8f0f5;
    padding: 20px;
    display: flex;
    flex-direction: column;
    align-items: center;
    height: 100vh;
    position: fixed;
    left: 0;
    top: 0;
    transition: transform 0.3s ease;
    z-index: 1000;
    flex-shrink: 0; /* Impede a sidebar de encolher */
}

.sidebar.collapsed {
    transform: translateX(-100%);
}

.logo img { width: 90px; }
.user-info { text-align: center; margin-bottom: 20px; }
.user-avatar { width: 70px; height: 70px; border-radius: 50%; object-fit: cover; border: 2px solid #67a0b8; }
.user-name { font-weight: 600; color: #333; }
.user-role { color: #555; font-size: 14px; margin-top: 5px; }

nav ul { list-style: none; padding: 0; width: 100%; }
nav ul li a { text-decoration: none; color: #67a0b8; display: flex; align-items: center; gap: 12px; font-size: 18px; font-weight: bold; padding: 12px; }
nav ul li a img { width: 24px; height: 24px; }
nav ul li a.active { color: #007b8f; }

.toggle-menu, .expand-sidebar {
    position: fixed;
    top: 20px;
    left: 20px;
    background: #fff;
    border: none;
    cursor: pointer;
    font-size: 24px;
    z-index: 1100;
    color: #333;
    border-radius: 8px;
    width: 48px;
    height: 48px;
    display: flex;
    align-items: center;
    justify-content: center;
    box-shadow: 0 2px 8px rgba(0,0,0,0.07);
}

.expand-sidebar { display: none; }
.sidebar.collapsed ~ .expand-sidebar { display: flex; }
.sidebar:not(.collapsed) .toggle-menu { background: transparent; box-shadow: none; }

/* --- MAIN CONTENT --- */
.main-content {
    flex-grow: 1; /* Ocupa o espaço restante */
    padding: 32px 40px;
    overflow-y: auto; /* Permite scroll vertical */
    height: 100vh;
    margin-left: var(--sidebar-width); /* Espaço inicial para a sidebar */
    transition: margin-left 0.3s ease;
}

body.menu-collapsed .main-content {
    margin-left: 0;
}

/* --- HEADER --- */
.topbar h1 { margin: 0; font-size: 26px; color: var(--brand-2); }
.topbar .subtitle { margin: 6px 0 18px; color: var(--muted); }

/* --- LAYOUT DO BOARD --- */
.board {
    display: grid;
    grid-template-columns: 380px 1fr;
    gap: 22px;
    align-items: start;
}

.list-card {
    grid-column: 1 / -1; /* Ocupa a largura total */
}

/* --- CARDS E FORMULÁRIOS --- */
.card { background: var(--card); backdrop-filter: blur(8px); border-radius: var(--radius); box-shadow: var(--shadow); padding: 20px; border: 1px solid rgba(10,20,25,0.04); }
label { display: block; font-size: 14px; color: var(--muted); margin: 10px 0 6px; }
input, select, textarea { width: 100%; padding: 10px 12px; border-radius: 10px; border: 1px solid #e6eef7; background: #fff; font-size: 14px; color: var(--text-dark); }
.row { display: flex; gap: 10px; }
.row label { flex: 1; }

.toggle-group { display: flex; gap: 8px; }
.toggle { background: #f6fbfc; padding: 8px 14px; border-radius: 999px; cursor: pointer; border: 1px solid #e6f3f5; }
.toggle input { display: none; }
.toggle span { color: var(--brand-dark); font-weight: 600; }
.toggle.active { background: linear-gradient(90deg, var(--brand), var(--brand-2)); }
.toggle.active span { color: #fff; }

.actions { display: flex; gap: 10px; margin-top: 12px; }
.btn { padding: 10px 14px; border-radius: 10px; border: none; cursor: pointer; font-weight: 600; }
.btn.primary { background: linear-gradient(90deg, var(--brand), var(--brand-2)); color: #fff; }
.btn.ghost { background: #fff; color: var(--brand-2); border: 1px solid rgba(31,127,130,0.10); }

/* --- LISTA DE SOLICITAÇÕES --- */
.requests-list { max-height: 400px; overflow: auto; padding-right: 6px; }
.req{ background:linear-gradient(180deg, #fff, #fbfdfe); padding:10px; border-radius:12px; margin-bottom:10px; display:flex; justify-content:space-between; gap:8px; align-items:flex-start; border:1px solid rgba(10,20,25,0.03) }
.req .left{ flex:1 }
.req .subject{ font-weight:700; color:var(--brand-2); margin-bottom:6px }
.req .meta{ font-size:13px; color:var(--muted) }
.badge{ padding:6px 10px; border-radius:999px; font-weight:700; font-size:12px; }
.badge.PENDENTE{ background:linear-gradient(90deg,#fffbeb,#fff7e6); color:#9a6400; border:1px solid #fde3a7 }
.badge.CONFIRMADA{ background:linear-gradient(90deg,#e8fbf4,#e6faf3); color:var(--ok); border:1px solid #c7efd9 }
.badge.RECUSADA{ background:linear-gradient(90deg,#fff1f1,#fff1f2); color:#b33b3b; border:1px solid #f5c4c4 }
.badge.CANCELADA{ background:#f0f0f0; color:#666; border:1px solid #e6e6e6 }

/* --- CALENDÁRIO --- */
.calendar-header{ display:flex; align-items:center; justify-content:space-between; gap:10px; margin-bottom:12px }
.calendar-grid{ display:grid; grid-template-columns: repeat(7,1fr); gap:8px; }

/* --- CORREÇÃO DO CALENDÁRIO --- */

/* 1. Ajuste no contêiner do dia */
.day {
    aspect-ratio: 1/1;
    border-radius: 12px;
    padding: 8px;
    background: linear-gradient(180deg, #ffffff, #fbfdfe);
    border: 1px solid rgba(10, 20, 25, 0.03);
    position: relative;
    
    /* Adicionado: Transforma o dia em um contêiner flexível */
    display: flex;
    flex-direction: column; 
}

.day .date-num {
    /* O position:absolute foi removido para um melhor fluxo */
    text-align: right; /* Alinha o número à direita */
    color: var(--muted);
    font-weight: 700;
    margin-bottom: 4px; /* Pequeno espaço abaixo do número */
    flex-shrink: 0; /* Impede que o número seja esmagado */
}

/* 2. A Mágica: Adiciona scroll à lista de eventos */
.day .events {
    flex-grow: 1;          /* Faz a lista de eventos ocupar o espaço restante */
    overflow-y: auto;      /* ADICIONA SCROLL se os eventos não couberem */
    min-height: 0;         /* Truque de flexbox para garantir que o overflow funcione */
    
    /* Estilos para a lista de eventos */
    display: flex;
    flex-direction: column;
    gap: 4px; /* Espaçamento entre os eventos */
}

/* Estilo do evento individual dentro do calendário */
.event {
    display: flex;
    justify-content: space-between;
    align-items: center;
    gap: 8px;
    background: linear-gradient(90deg, #e8fbf4, #ffffff);
    border-left: 4px solid var(--brand-2);
    padding: 6px 8px;
    border-radius: 8px;
    font-size: 12px; /* Reduzi um pouco para caber melhor */
    cursor: pointer;
    box-shadow: 0 6px 14px rgba(14, 44, 50, 0.04);
    flex-shrink: 0;
}

.event .time {
    font-weight: 700;
    color: var(--brand-2);
}

/* --- RESPONSIVIDADE --- */

/* Telas de notebook e menores (abaixo de 1200px) */
@media (max-width: 1200px) {
    .board {
        grid-template-columns: 320px 1fr; /* Coluna do formulário um pouco menor */
    }
}

/* Telas de tablet e notebooks menores (abaixo de 960px) */
@media (max-width: 960px) {
    body {
        flex-direction: column; /* Empilha a sidebar (escondida) e o conteúdo */
    }

    .main-content {
        margin-left: 0;
        padding: 20px;
        padding-top: 80px; /* Espaço para o botão de menu fixo */
    }

    .board {
        grid-template-columns: 1fr; /* UMA COLUNA SÓ */
    }

    .sidebar {
        /* Garante que a sidebar comece escondida em telas menores */
        transform: translateX(-100%);
    }

    .sidebar.collapsed {
        transform: translateX(-100%);
    }
    
    .sidebar:not(.collapsed) {
        transform: translateX(0); /* Mostra a sidebar quando ativa */
    }

    /* Ajusta o botão de expandir para não ser empurrado pelo conteúdo */
    .expand-sidebar {
        display: flex;
    }
}

/* Telas de celular (abaixo de 600px) */
@media (max-width: 600px) {
    .main-content {
        padding: 15px;
        padding-top: 75px;
    }

    .topbar h1 {
        font-size: 22px;
    }

    .topbar .subtitle {
        font-size: 14px;
    }

    .row {
        flex-direction: column; /* Empilha data e hora */
        gap: 0;
    }
}
/* ============================================================= */
/* CÓDIGO PARA ADICIONAR AO SEU CSS                     */
/* ============================================================= */

/* Estilo base para todas as badges de status */
.badge {
    padding: 4px 12px;
    border-radius: 16px;
    font-size: 12px;
    font-weight: bold;
    text-transform: uppercase;
    border: 2px solid transparent;
}

/* Cor para status PENDENTE */
.badge.pendente {
    color: #FFA500; /* Laranja */
    background-color: #FFF8E1;
    border-color: #FFD180;
}

/* Cor para status CONFIRMADA */
.badge.confirmada {
    color: #4CAF50; /* Verde */
    background-color: #E8F5E9;
    border-color: #A5D6A7;
}

/* Cor para status RECUSADA */
.badge.recusada {
    color: #F44336; /* Vermelho */
    background-color: #FFEBEE;
    border-color: #EF9A9A;
}

/* Cor para status CANCELADA */
.badge.cancelada {
    color: #607D8B; /* Cinza */
    background-color: #ECEFF1;
    border-color: #B0BEC5;
}

/* --- RESPONSIVIDADE --- */
@media (max-width: 1200px) {
    .top-bar { flex-direction: column; align-items: stretch; text-align: center; }
    .streak-container, .card-link { justify-content: flex-start; }
}
@media (max-width: 768px) {
    body.menu-collapsed .main-content { padding-left: 80px; }
}

/* QUANDO O MENU ESTIVER FECHADO... */
body.menu-collapsed .sidebar {
    transform: translateX(-100%); /* Esconde a sidebar para a esquerda */
}

body.menu-collapsed .main-content {
    margin-left: 0; /* Faz o conteúdo principal ocupar toda a tela */
}

body.menu-collapsed .expand-sidebar {
    display: flex; /* Mostra o botão de expandir */
}